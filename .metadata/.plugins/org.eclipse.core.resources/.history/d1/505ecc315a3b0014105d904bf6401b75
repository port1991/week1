var mainWindow = Ti.UI.createWindow ({
	title: 'Create a Note',
	backgroundImage: 'grid2.png',
	fullscreen: true,
	layout: 'vertical'
});

var textArea = Ti.UI.createTextArea({
  borderWidth: 2,
  borderColor: '#bbb',
  borderRadius: 5,
  color: '#888',
  font: {fontSize:20, fontWeight:'bold'},
 // keyboardType: Ti.UI.KEYBOARD_NUMBER_PAD,
  returnKeyType: Ti.UI.RETURNKEY_GO,
  textAlign: 'left',
  hintText: 'Type Here..',
  top: 60,
  width: 300, height : 150
});

var btnSave= Ti.UI.createButton({
	backgroundColor: 'white',
	title: "SAVE",
	font : {fontFamily:"Helvetica",fontsize:100,fontWeight: "bold"},
	color: 'black',
	top: 30,
	//borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
	
});
btnSave.addEventListener('click', function(){
	var note = textArea.value;
	if(note != ""){
		var notes = Ti.App.Properties.getObject("notes", new Array());
		notes.push(note);
		//Ti.App.Properties.setObject("notes", notes);
		
		// saving into cloud
		var Cloud = require("ti.cloud");
		Cloud.KeyValues.set({
		    name: 'notes',
		    value: JSON.stringify(notes)
		}, function (e) {
		    if (e.success) {
		        alert('Success');
		    } else {
		        alert('Error:\n' + ((e.error && e.message) || JSON.stringify(e)));
		    }
		});
		
		// setting the text area empty again
		textArea.value = "";
		//alert('Note created successfully');
	}
	//alert(textArea.value);
});

mainWindow.add(textArea);
mainWindow.add(btnSave);
exports.mainWindow = mainWindow;



